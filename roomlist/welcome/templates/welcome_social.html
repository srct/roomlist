{% extends 'layouts/base.html' %}
{% block title %}
SRCT Roomlist &bull; Welcome &bull; Step 4 of 4
{% endblock %}

{% block content %}

<div class="progress">
  <div class="progress-bar" role="progressbar"
       aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
    <span class="sr-only">100% complete</span>
  </div>
</div>

<div class="page-header" id="banner">
  <div class="row">
    <div class="col-md-12 text-center">
      <h1>Welcome to <strong>SRCT</strong>ROOMLIST! <small>Step 4 of 4</small></h1>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-8 col-md-offset-2">
    <p>
      We're <strong>not</strong> recreating yet <em>another</em> social network. Instead,
      {{ student.get_first_name_or_uname }}, point other students to the
      social media accounts you <em>already</em> use on your directory page.
    </p>
    <p>
      You'll be asked to sign in to verify each account actually belongs to you.
      Otherwise, we don't use anything from these sites, with one exception. If you
      connect your Facebook account, we'll display your profile picture.
    </p>
  </div>
</div>

<br />

{% load socialaccount %}

{% get_social_accounts request.user as accounts %}

<div class="row">
  <div class="col-md-offset-2 col-md-8">

    <div class="panel panel-default">
      <div class="panel-heading">
        <h1 class="panel-title text-center"><strong>Social Media Accounts</strong></h1>
      </div>

      <div class="panel-body">
        <div class="row text-center">
          {% comment %} is it not possible to redirect the login failure? {% endcomment %}
          <div class="col-md-3 col-sm-6 col-xs-6">
            <br />
            <h4><i class="fa fa-facebook fa-2x"></i></h4>
            <h4>
            {% if accounts.facebook %}
            <a href="{% url 'remove_social' request.user.username 'facebook' %}">
              <strong>Facebook <i class="fa fa-check-square-o"></i></strong>
            </a>
            {% else %}
            <a href="{% provider_login_url 'facebook' process='connect' %}">
              Facebook <i class="fa fa-square-o"></i>
            </a>
            {% endif %}
            </h4>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-6">
            <br />
            <h4><i class="fa fa-google fa-2x"></i></h4>
            <h4>
            {% if accounts.google %}
            <a href="{% url 'remove_social' request.user.username 'google' %}">
              <strong>Google <i class="fa fa-check-square-o"></i></strong>
            </a>
            {% else %}
            <a href="{% provider_login_url 'google' process='connect' %}">
              Google <i class="fa fa-square-o"></i>
            </a>
            {% endif %}
            </h4>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-6">
            <br />
            <h4><i class="fa fa-twitter fa-2x"></i></h4>
            <h4>
            {% if accounts.twitter %}
            <a href="{% url 'remove_social' request.user.username 'twitter' %}">
              <strong>Twitter <i class="fa fa-check-square-o"></i></strong>
            </a>
            {% else %}
            <a href="{% provider_login_url 'twitter' process='connect' %}">
              Twitter <i class="fa fa-square-o"></i>
            </a>
            {% endif %}
            </h4>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-6">
            <br />
            <h4><i class="fa fa-instagram fa-2x"></i></h4>
            <h4>
            {% if accounts.instagram %}
            <a href="{% url 'remove_social' request.user.username 'instagram' %}">
              <strong>Instagram <i class="fa fa-check-square-o"></i></strong>
            </a>
            {% else %}
            <a href="{% provider_login_url 'instagram' process='connect' %}">
              Instagram <i class="fa fa-square-o"></i>
            </a>
            {% endif %}
            </h4>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-6">
            <br />
            <h4><i class="fa fa-tumblr fa-2x"></i></h4>
            <h4>
            {% if accounts.tumblr %}
            <a href="{% url 'remove_social' request.user.username 'tumblr' %}">
              <strong>Tumblr <i class="fa fa-check-square-o"></i></strong>
            </a>
            {% else %}
            <a href="{% provider_login_url 'tumblr' process='connect' %}">
              Tumblr <i class="fa fa-square-o"></i>
            </a>
            {% endif %}
            </h4>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-6">
            <br />
            <h4><i class="fa fa-pinterest-p fa-2x"></i></h4>
            <h4>
            {% if accounts.pinterest %}
            <a href="{% url 'remove_social' request.user.username 'pinterest' %}">
              <strong>Pinterest<i class="fa fa-check-square-o"></i></strong>
            </a>
            {% else %}
            <a href="{% provider_login_url 'pinterest' process='connect' %}">
              Pinterest <i class="fa fa-square-o"></i>
            </a>
            {% endif %}
            </h4>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-6">
            <br />
            <h4><i class="fa fa-spotify fa-2x"></i></h4>
            <h4>
            {% if accounts.spotify %}
            <a href="{% url 'remove_social' request.user.username 'spotify' %}">
              <strong>Spotify <i class="fa fa-check-square-o"></i></strong>
            </a>
            {% else %}
            <a href="{% provider_login_url 'spotify' process='connect' %}">
              Spotify <i class="fa fa-square-o"></i>
            </a>
            {% endif %}
            </h4>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-6">
            <br />
            <h4><i class="fa fa-github fa-2x"></i></h4>
            <h4>
            {% if accounts.github %}
            <a href="{% url 'remove_social' request.user.username 'github' %}">
              <strong>Github <i class="fa fa-check-square-o"></i></strong>
            </a>
            {% else %}
            <a href="{% provider_login_url 'github' process='connect' %}">
              Github <i class="fa fa-square-o"></i>
            </a>
            {% endif %}
            </h4>
          </div>
        </div>
        <hr/>
        <form action="" method="post">{% csrf_token %}
          {{ form.as_p }}
          <input type="submit" value="Finish" class="btn btn-primary"/>
        </form>
      </div>
    </div>

  </div>
</div>

{% endblock %}
