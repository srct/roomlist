{% extends 'layouts/base.html' %}

{% block title %} SRCT Roomlist | Student | Update {% endblock %}

{% block message_queue %}
{% endblock %}

{% block content %}

{% include 'room_change_warning.html' %}

<div class="page-header" id="banner">
  <div class="row">
    <div class="col-md-12 text-center">
      <h1><strong>SRCT</strong>ROOMLIST</a></strong> Student Update</h1>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-12 text-center">
    <h2><strong>Welcome, {{ request.user.first_name }}!</strong></h2>
  </div>
</div>

<br />

{% load socialaccount %} {% providers_media_js %}

<div class="row">
  <div class="col-md-4">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h1 class="panel-title text-center"><strong>Social Media Settings</strong></h1>
      </div>
      <div class="panel-body">
        <p class="text-center">Verify your social media accounts to link them to other students.</p>
        <div class="row text-center">
          <div class="col-md-6">
          {% if accounts.facebook %}
            <p><i class="fa fa-check-square-o"></i> Verified!</p>
          {% endif %}
          <a href="{% provider_login_url 'facebook' method='js_sdk' process='connect' next='#' %}">
            <h4><i class="fa fa-facebook fa-2x"></i></h4>
            <h4>Facebook</h4>
          </a>
          </div>
          <div class="col-md-6">
          {% if accounts.google %}
            <p><i class="fa fa-check-square-o"></i> Verified!</p>
          {% endif %}
          <a href="{% provider_login_url 'google' method='js_sdk' process='connect' next='#' %}">
            <h4><i class="fa fa-google fa-2x"></i></h4>
            <h4>Google</h4>
          </a>
          </div>
        </div>
        <br />
        <div class="row text-center">
          <div class="col-md-6">
          {% if accounts.twitter %}
            <p><i class="fa fa-check-square-o"></i> Verified!</p>
          {% endif %}
          <a href="{% provider_login_url 'twitter' method='js_sdk' process='connect' next='#' %}">
            <h4><i class="fa fa-twitter fa-2x"></i></h4>
            <h4>Twitter</h4>
          </a>
          </div>
          <div class="col-md-6">
          {% if accounts.instagram %}
            <p><i class="fa fa-check-square-o"></i> Verified!</p>
          {% endif %}
          <a href="{% provider_login_url 'instagram' method='js_sdk' process='connect' next='#' %}">
            <h4><i class="fa fa-instagram fa-2x"></i></h4>
            <h4>Instagram</h4>
          </a>
          </div>
        </div>
      </div>
    </div>
  </div>

{% load humanize %}

  <div class="col-md-8">

    <div class="panel panel-default">
      <div class="panel-heading">
        <h1 class="panel-title text-center"><strong>Student Settings</strong></h1>
      </div>

      <div class="panel-body">
        <form class="form-horizontal" action="" method="post">{% csrf_token %}

          {{ my_form.as_p }}
          <div class="form-group">
            <label>Neighborhood</label>
            <select id="neighborhood" name="neighborhood">
              {% for neighborhood in neighborhoods %}
                  <option value="{{ neighborhood.0  }}">{{ neighborhood.1 }}</option>
                {% endfor %}
            </select>
            <label>Building</label>
            <select id="building" name="building">
              <option value="">---</option>
              {% for building in buildings %}
                <option value="{{ building.name }}" class="{{ building.neighbourhood }}">{{ building.name }}</option>
              {% endfor %}
            </select>
            <label>Floor</label>
            <select id="floor" name="floor">
              <option value="">---</option>
              {% for floor in floors %}
                <option value="{{ floor.slug }}" class="{{ floor.building.name }}">{{ floor.number|ordinal }}</option>
              {% endfor %}
            </select>
            <label>Room</label>
            <select id="room" name="room">
              <option value="">---</option>
              {% for room in rooms %}
                <option value="{{ room.number }}" class="{{ room.floor.slug }}">{{ room.number }}</option>
              {% endfor %}
            </select>
          </div>

          <input type="submit" value="Save" class="btn btn-primary"/>
        </form>
      </div>
    </div>

  </div>
</div>


{% endblock content %}

{% block javascript %}
  <script type="text/javascript" src="/static/js/jquery.chained.min.js"></script>
  <script>
    $("#building").chained("#neighborhood");
    $("#floor").chained("#building");
    $("#room").chained("#floor");
  </script>
{% endblock javascript %}
